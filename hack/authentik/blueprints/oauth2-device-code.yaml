# yaml-language-server: $schema=https://goauthentik.io/blueprints/schema.json
version: 1
metadata:
  name: authentik CLI - Device Code
entries:
  - id: flow
    model: authentik_flows.flow
    identifiers:
      slug: device-code
    attrs:
      designation: stage_configuration
      name: Device code
      title: Device code
  - model: authentik_blueprints.metaapplyblueprint
    attrs:
      identifiers:
        name: Default - Authentication flow
      required: false
  - model: authentik_blueprints.metaapplyblueprint
    attrs:
      identifiers:
        name: Default - Invalidation flow
      required: false
  - model: authentik_blueprints.metaapplyblueprint
    attrs:
      identifiers:
        name: Default - User settings flow
      required: false
  - attrs:
      flow_authentication:
        !Find [authentik_flows.flow, [slug, default-authentication-flow]]
      flow_invalidation:
        !Find [authentik_flows.flow, [slug, default-invalidation-flow]]
      flow_user_settings:
        !Find [authentik_flows.flow, [slug, default-user-settings-flow]]
      default: true
      flow_device_code: !KeyOf flow
    identifiers:
      domain: authentik-default
    model: authentik_brands.brand
